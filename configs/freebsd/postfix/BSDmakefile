.include <../../../Makefile.fbsd>

ROOT_POSTFIX_CONF=$(ROOT_CONF)/postfix

install:
	$(SYSTEM_MAKE_DIRS) $(SYSTEM_CONF)/postfix
	$(SYSTEM_MAKE_DIRS) $(ROOT_POSTFIX_CONF)

#	MTA Configuration Files;
	cp ./main.cf $(SYSTEM_CONF)/postfix/main.cf
	cp ./master.cf $(SYSTEM_CONF)/postfix/master.cf

#	MTA Configuration Directories;
	cp -R ./backup $(SYSTEM_CONF)/postfix
	cp -R ./parts $(SYSTEM_CONF)/postfix
	cp -R ./working $(SYSTEM_CONF)/postfix
	cp -R ./ispcp $(SYSTEM_CONF)/postfix
	cp -R ./ispcp $(ROOT_POSTFIX_CONF)

#	DISABLE: Should be Installed by postfix package/ports;
#	@TODO: Delete, if not needed
#
#	cp ./postfix.rc $(ROOT_CONF)/postfix.rc
#	chmod 700 $(ROOT_CONF)/postfix.rc
#	chown root:wheel $(ROOT_CONF)/postfix.rc

uninstall:
	rm -rf $(SYSTEM_CONF)/postfix
	rm -rf $(ROOT_POSTFIX_CONF)/ispcp
