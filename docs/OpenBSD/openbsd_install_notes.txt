If you really want to install ISPCP on OpenBSD you should be familar with the manual installation
process from the linux platform, it's only recommended for people with BSD knowledge!

This is a short list of notes i have written while setting up and porting ispcp to OpenBSD,
it may be incomplete/outdated in some places.

1. install all packages from packagelist (openbsd-packages-install.sh will help you)

2. download proftpd source & compile with configure command:
   wget ftp://ftp.proftpd.org/distrib/source/proftpd-1.3.0a.tar.bz2
   bunzip2 proftpd-1.3.0a.tar.bz2
   tar -xvf proftpd-1.3.0a.tar
   cd proftpd-1.3.0a
   ./configure --sysconfdir=/etc \
        --enable-ctrls \
        --enable-ipv6 \
        --enable-sendfile \
        --enable-facl \
        --with-modules=mod_sql:mod_sql_mysql:mod_tls:mod_rewrite:mod_ratio:mod_readme:mod_ifsession:mod_ctrls_admin:mod_quotatab:mod_quotatab_file:mod_quotatab_sql \
        --with-includes=/usr/local/include/mysql \
        --with-libraries=/usr/local/lib \
        --localstatedir=/var/run
   make
   make install

3. install required perl modules
   perl -MCPAN -e shell
   cpan> install Crypt::PasswdMD5
   cpan> install Term::ReadPassword
   if package p5-MIME-tools can't be installed, install it with cpan
   cpan> install MIME::Tools

4. extract ispcp source package and run make

5. execute these commands:

	groupadd -o -g 0 root
	ln -s /usr/local/libexec/makedatprog /usr/local/bin/makedatprog

6. /usr/local/share/mysql/mysql.server start
   set mysql root password with mysqladmin: mysqladmin password 'your-new-password'

   run make in ispcp directory , change to /tmp/ispcp-<version>, execute: cp -R * /
   change to /var/www/ispcp/engine/setup and run ispcp-setup

7. edit /etc/rc.local and add the following lines:

mkdir -p /var/run/courier-imap
/usr/local/libexec/authlib/authdaemond start
/usr/local/libexec/imapd.rc start
/usr/local/libexec/imapd-ssl.rc start
/usr/local/libexec/pop3d.rc start
/usr/local/libexec/pop3d-ssl.rc start
/usr/local/share/mysql/mysql.server start
mkdir -p /var/run/proftpd
/etc/proftpd.rc start
/etc/ispcp_daemon.rc start

8. edit /etc/rc.conf.local and add the following lines:

ntpd_flags=             # enabled during install
httpd_flags=-u         # enabled / -DSSL
inetd=NO
syslogd_flags=          # "-a /var/spool/postfix/dev/log"
sendmail_flags="-bd -q30m"
named_flags=

9. edit /var/www/conf/httpd.conf and insert

AddType application/x-httpd-php .php
Include /var/www/conf/ispcp.conf to the last line

10. create initial php.ini
cp /usr/local/share/examples/php4/php.ini-recommended /var/www/conf/php.ini

11. run following commands to activate php module extensions
/usr/local/sbin/phpxs -s
/usr/local/sbin/phpxs -a curl
/usr/local/sbin/phpxs -a dbx
/usr/local/sbin/phpxs -a domxml
/usr/local/sbin/phpxs -a filepro
/usr/local/sbin/phpxs -a gmp
/usr/local/sbin/phpxs -a imap
/usr/local/sbin/phpxs -a mcrypt
/usr/local/sbin/phpxs -a mhash
/usr/local/sbin/phpxs -a mysql
/usr/local/sbin/phpxs -a pdf
/usr/local/sbin/phpxs -a shmop
/usr/local/sbin/phpxs -a xmlrpc
/usr/local/sbin/phpxs -a xslt

run following command to enable postfix
/usr/local/sbin/postfix-enable

and restart apache: apachectl restart

   optional create imap&pop3 ssl certificates:
      mkimapdcert
      mkpop3dcert

12. not working "features" (list may be incomplete)
	- all iptables based traffic accounting
